@page "/"
@page "/todo"
<h3>Todo (@todos.Count(t => !t.IsDone))</h3>

<ul>
    @foreach (var todo in todos)
    {
        <li hidden="@(todo.IsDone && !showAll)">
            <input type="checkbox" @bind="todo.IsDone" />
            <input type="text" @bind="todo.Title" />
        </li>
    }
</ul>
<button @onclick="showAllItem">@(!showAll ? "Show All" : "Hide done")</button><br />

<input placeholder="Something todo" @bind="newTodoTitle"/>
<button @onclick="AddTodo">Add Todo</button>

@code {
    @using Lanz.TodoList.Models

        private List<TodoItemModel> todos = new List<TodoItemModel>();
        private string newTodoTitle;
        private bool showAll { get; set; } = false;

        private void AddTodo()
        {
            if (!string.IsNullOrWhiteSpace(newTodoTitle))
            {
                todos.Add(new TodoItemModel() { Title = newTodoTitle });
                newTodoTitle = string.Empty;
            }
        }

        private void showAllItem()
        {
            showAll = !showAll;
        }
    }
